<!DOCTYPE html>
<html>
  <!-- 2sxc docs -->
  <head>
    <meta charset="utf-8">
      <title>How To Organize your Code in Razor | 2sxc 19 for Dnn and Oqtane </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="How To Organize your Code in Razor | 2sxc 19 for Dnn and Oqtane ">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">      
  </head>

  <script type="module" src="./../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PH2TVNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'GTM-PH2TVNW');
  </script>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../assets/logos/vcurrent/50.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">



              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">

                <a class="btn btn-sm border-0 text-nowrap version-button" href="https://go.2sxc.org/docs-versions" target="_blank" title="archive üîí">
                  v19 üîí <i class="bi bi-caret-down-fill fs-6"></i>
                </a>
              </form>

              <ul class="navbar-nav">
                <li class="nav-item">
                  <a href="/archive.html" class="nav-link" style="color: red; font-weight: bold;">
                    üîí v19 ARCHIVE
                  </a>
                </li>
              </ul>

            
          </div>
        </div>
      </div></nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="NetCode.Razor.OrganizeCode">
          <!-- Special archive note header -->
          <div class="alert alert-danger d-print-none">           
            These v19 docs are <a href="/archive.html">archived üîí</a>.
            Go to the
            <a href="https://docs.2sxc.org" target="_blank">latest docs home</a>
            or try if
            <a href="https://docs.2sxc.org/net-code/razor/organize-code.html" target="_blank">this exact page is available</a>
            in the latest docs.
          </div>
<h1 id="how-to-organize-your-code-in-razor">How To Organize your Code in Razor</h1>

<p>In simple scenarios you have some Razor files containing a bit of HTML and some code. As your solution grows, you'll want to organize your work better to ensure that you can maintain it. 2sxc offers various ways to do this:</p>
<div style="background: #0088F444; overflow: auto">
  <img src="../../shared/tutorials/assets/razor.png" width="200px" style="padding-right: 20px; float: left">
  <div style="font-size: x-large;font-weight: bold; margin-bottom: 20px;">
    Discover More in the Razor Tutorials
  </div>
<p>We have an rich series of <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor">Razor tutorials</a>. You should really check them out üëç.</p>
</div>
<br>
<h2 id="recommended-methods-v12">Recommended Methods v12+</h2>
<h3 id="reuse-a-partial-view-with--v12">Reuse a Partial View with @Html.Partial(...) v12+</h3>
<p>Razor templates can <em>include</em> other razor files with more Razor code inside them, using <code>Html.Partial(&quot;_Something.cshtml&quot;)</code>.
This is a standard asp.net function to render another Razor file where you need it.
You usually use it to make small component Razor files which might just show a button or something, and then call that file.</p>
<p>You can find examples in the <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor/tut/code-reuse-intro">tutorials</a></p>
<h3 id="share-a-cs-file-as-library-v10">Share a .cs File as Library v10+</h3>
<p>Sometimes you want to share C# code which isn't meant for HTML-output. For example, a security check. You can do this using <code>CreateInstance(...)</code>.</p>
<p>If you:</p>
<ol>
<li>need to share code with razor and Webapi</li>
<li>don't need razor specific features like <code>@helper</code></li>
</ol>
<p>You can create a <code>.cs</code> class file and share this across razor files AND WebAPI files.</p>
<p>To use it, you need something like:</p>
<pre><code class="lang-razor">@{
  var helper = CreateInstance(&quot;_Helper.cs&quot;);
}
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>The helper file should ideally inherit from <code>Custom.Hybrid.Code14</code> (or similar <a class="xref" href="../../api/dot-net/Custom.Hybrid.html">base classes</a>).
in which case it will have have the same full APIs incl. the <code>App</code> and <code>Content</code> object just like the main file.</p>
</div>
<p>üëâüèº See <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor/tut/code-reuse-intro">examples in the tutorials</a></p>
<h3 id="reuse-a-template-delegate-function-generating-html-v5">Reuse a Template Delegate Function generating HTML v5+</h3>
<p><a href="https://medium.com/@isaac.d.adams/reusing-html-blocks-without-partials-or-view-components-6db59b86eab7">Template Delegates</a>
are a very old Razor feature, but they are quite hard to use.</p>
<p>They are similar to <code>@helpers</code> but work in both Oqtane and DNN.</p>
<p>üëâüèº See <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor/tut/code-reuse-intro">tutorial example</a>.</p>
<h2 id="older--alternative-methods-dnn-only">Older / Alternative Methods (DNN only)</h2>
<h3 id="reuse-snippets-with--in-razor">Reuse Snippets with @helper in Razor</h3>
<p>Razor has a <code>@helper</code> syntax which allows you to create fragments and re-use them.</p>
<p>üëâüèº Discover this in the <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor/tut/code-reuse-intro">tutorials</a>.</p>
<p>This will not work in Oqtane, as the newer Razor engines don't support this.</p>
<h3 id="reuse-a-partial-view-with-">Reuse a Partial View with @RenderPage()</h3>
<p><code>@RenderPage(...)</code> does the same thing as <code>@Html.Partial(...)</code> (see above) but it will only work on DNN, not Oqtane.</p>
<h3 id="share-a-cshtml-file-as-library-of-sub-templates">Share a .cshtml File as Library of Sub-Templates</h3>
<p>When you have a <strong>lot of components</strong> it may be easier to create a library of <code>@helper</code> commands. This library is just a normal <code>.cshtml</code> file - usually in a folder called <code>shared</code> or something, and you can then call these snippets and helpers from all your template files.</p>
<p>To use it, you need something like:</p>
<pre><code class="lang-razor">@{
  var helper = GetCode(&quot;_Helper.cshtml&quot;);
}
</code></pre>
<p>...older Razor API:</p>
<pre><code class="lang-razor">@{
  var helper = CreateInstance(&quot;_Helper.cshtml&quot;);
}
</code></pre>
<p>üëâüèº See <a class="xref" href="https://2sxc.org/dnn-tutorials/en/razor/tut/code-reuse-intro">examples in the tutorials</a></p>
<h3 id="razor-code-behind">Razor Code-Behind</h3>
<p>If your Razor file is getting kind of large because of C# functions, best place it in a <a class="xref" href="code-behind.html">Razor Code-Behind</a>.</p>
<hr>
<h2 id="history">History</h2>
<ol>
<li>RenderPage has always been part of Razor so part of 2sxc v2</li>
<li>CreateInstance for <code>.cshtml</code> was introduced ca. v6</li>
<li>CreateInstance for <code>.cs</code> was introduced in 2sxc v10.01</li>
<li>Code-Behind Introduced in 2sxc 11.0</li>
<li>Code-Behind deprecated in 2sxc 12 because it's not compatible with Oqtane</li>
</ol>

</article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          
          <span>
            Made by <a href="https://www.2sic.com">2sic</a>
            with üíñ and
            <a href="https://dotnet.github.io/docfx">docfx</a>
            ‚Äî 
            for <a href="https://2sxc.org">2sxc</a>,
            <a href="https://dnncommunity.org/">Dnn</a> 
            and <a href="https://www.oqtane.org/">Oqtane</a>
            ‚Äî 
            see also <a href="">2sxc Github</a> and <a href="https://blazor-cms.org">Blazor CMS</a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>