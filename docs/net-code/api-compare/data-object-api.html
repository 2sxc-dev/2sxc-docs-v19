<!DOCTYPE html>
<html>
  <!-- 2sxc docs -->
  <head>
    <meta charset="utf-8">
      <title>Data Object API Differences | 2sxc 19 for Dnn and Oqtane </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Data Object API Differences | 2sxc 19 for Dnn and Oqtane ">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/net-code/api-compare/data-object-api.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">      
  </head>

  <script type="module" src="./../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PH2TVNW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'GTM-PH2TVNW');
  </script>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../assets/logos/vcurrent/50.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">



              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">

                <a class="btn btn-sm border-0 text-nowrap version-button" xstyle="padding: 10px 0 0 0; width: 25px" href="https://go.2sxc.org/docs-versions" target="_blank">
                  &nbsp; v18 <i class="bi bi-caret-down-fill fs-6"></i>
                </a>
              </form>


            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="NetCode.TypedCode.CompareApis.DataObjectApi">
<h1 id="data-object-api-differences">Data Object API Differences</h1>

<p>2sxc has changed a lot over time.
So you'll find old code snippets and new ones, and it helps to see which one is being used.
Sometimes you'll also want to convert old code to new code, and this page should help you with that.</p>
<div class="TIP">
<h5>Tip</h5>
<p>This is about <strong>Data Objects</strong> - the objects which contain the data you're working with.</p>
<p>So <strong>DynamicEntities</strong>, <strong>TypedItems</strong> and <strong>Strong-Typed Custom Data Models</strong>.</p>
</div>
<div class="TIP">
<h5>Tip</h5>
<p>ðŸŽ“ Best check out the <a href="https://go.2sxc.org/quickref">tutorial QuickRef</a> which shows all this!</p>
</div>
<h2 id="what-are-data-objects">What are Data Objects?</h2>
<p>Internally 2sxc leverages a system called <strong>EAV</strong> (Entity-Attribute-Value) which is a very flexible way to store data.
The underlying data type is called an <code>IEntity</code>, but it's difficult to work with.</p>
<p>Because of this, 2sxc provides simpler objects to work with, specifically these:</p>
<ul>
<li><strong>Dynamic Entities</strong> - a dynamic object which can contain any data - older Razor up until <code>Razor14</code></li>
<li><strong>Typed Items</strong> - a strong-typed object which contains data - <code>RazorTyped</code> and later (v16+)</li>
<li><strong>Strong-Typed Custom Data Models</strong> - a strong-typed object which contains data - <code>RazorTyped</code> and later (v17.03+)</li>
</ul>
<div class="TIP">
<h5>Tip</h5>
<p>To understand this better, imagine that the EAV system delivers <code>IEntity</code> objects to the Razor / C#.
Each Razor provides simple methods such as <code>AsDynamic(...)</code> or <code>AsItem(...)</code> to convert/wrap them to the simpler objects.</p>
</div>
<h2 id="show--get-built-in-properties">Show / Get Built-In Properties</h2>
<p>Standard properties are things like <code>Id</code>, <code>Guid</code>, <code>Title</code>, <code>Created</code>, <code>Modified</code> etc.</p>
<table>
<thead>
<tr>
<th>Dynamic</th>
<th>Typed</th>
<th>Strong Typed</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dyn.EntityId</code></td>
<td><code>itm.Id</code></td>
<td><code>itm.Id</code></td>
</tr>
<tr>
<td><code>dyn.EntityGuid</code></td>
<td><code>itm.Guid</code></td>
<td><code>itm.Guid</code></td>
</tr>
<tr>
<td><code>dyn.EntityTitle</code></td>
<td><code>itm.Title</code></td>
<td><code>itm.Title</code></td>
</tr>
</tbody>
</table>
<p>TODO: IsDemoItem, IsPublished, Created, Modified etc.</p>
<p>TODO: Type name etc.</p>
<h2 id="show--output-values-from-items">Show / Output Values from Items</h2>
<p>The following example assumes that you have an <code>dyn</code> or <code>itm</code> object containing various properties such as <code>Name</code> or <code>Birthday</code>.
The objects themselves could be from the primary items (eg <code>var dyn = Content;</code> or <code>var itm = MyItem;</code>)
but they could also come from loops, queries, etc.</p>
<table>
<thead>
<tr>
<th>Dynamic</th>
<th>Typed</th>
<th>Strong Typed</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dyn.Xyz</code> <br> type unknown / <code>dynamic</code></td>
<td><code>itm.Get(&quot;Xyz&quot;)</code> <br> type <code>object</code></td>
<td><code>itm.Xyz</code> <br> type known</td>
</tr>
<tr>
<td><code>dyn.Name</code> (<code>dynamic</code>)</td>
<td><code>itm.String(&quot;Name&quot;)</code></td>
<td><code>itm.String(&quot;Name&quot;)</code> <br> <code>itm.Name</code></td>
</tr>
<tr>
<td><code>dyn.IsGreen</code> (<code>dynamic</code>)</td>
<td><code>itm.Bool(&quot;IsGreen&quot;)</code> (<code>bool</code>)</td>
<td><code>itm.IsGreen</code> (<code>bool</code>) <br> <code>itm.Bool(&quot;IsGreen&quot;)</code> (<code>bool</code>)</td>
</tr>
<tr>
<td><code>dyn.Birthday</code> (<code>dynamic</code>)</td>
<td><code>itm.DateTime(&quot;Birthday&quot;)</code> (<code>DateTime</code>)</td>
<td><code>itm.Birthday</code> (<code>DateTime</code>) <br> <code>itm.DateTime(&quot;Birthday&quot;)</code> (<code>DateTime</code>)</td>
</tr>
<tr>
<td><code>(dyn.Birthday as DateTime).Year</code></td>
<td><code>itm.DateTime(&quot;Birthday&quot;).Year</code></td>
<td><code>itm.Birthday.Year</code> (<code>int</code>) <br> <code>itm.DateTime(&quot;Birthday&quot;).Year</code> (<code>int</code>)</td>
</tr>
</tbody>
</table>
<h3 id="number-values">Number Values</h3>
<p>When working with numbers, the following is important:</p>
<ul>
<li>in Dynamic mode, all numbers are always returned as <code>decimal</code> since it's the most precise</li>
<li>in Typed mode, you can specify the type you want, and it will be converted if possible</li>
<li>in Strong Typed mode, the type is defined in the generated Data-Model, and you can't change it</li>
</ul>
<table>
<thead>
<tr>
<th>Dynamic</th>
<th>Typed</th>
<th>Strong Typed</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dyn.Weight</code></td>
<td><code>itm.Int(&quot;Weight&quot;)</code></td>
<td><code>itm.Weight</code> (see data model) <br> <code>itm.Int(&quot;Weight&quot;)</code></td>
</tr>
<tr>
<td><code>dyn.Weight</code></td>
<td><code>itm.Double(&quot;Weight&quot;)</code></td>
<td><code>itm.Weight</code> (see data model) <br> <code>itm.Double(&quot;Weight&quot;)</code></td>
</tr>
<tr>
<td><code>dyn.Weight</code></td>
<td><code>itm.Float(&quot;Weight&quot;)</code></td>
<td><code>itm.Weight</code> (see data model) <br> <code>itm.Float(&quot;Weight&quot;)</code></td>
</tr>
<tr>
<td><code>dyn.Weight</code></td>
<td><code>itm.Decimal(&quot;Weight&quot;)</code></td>
<td><code>itm.Weight</code> (see data model) <br> <code>itm.Decimal(&quot;Weight&quot;)</code></td>
</tr>
</tbody>
</table>
<div class="IMPORTANT">
<h5>Important</h5>
<p>In Dynamic, property names are not case sensitive.
In Typed <code>.String(name)</code> etc. property names are case sensitive.
So <code>dyn.weight</code> and <code>itm.Int(&quot;WEIGHT&quot;)</code> will work.</p>
<p>In Strong Typed, the property names are defined in the data model, and are case sensitive.</p>
</div>
<div class="TIP">
<h5>Tip</h5>
<p>When simply showing data in HTML, the exact type is not super important
as the Razor engine will convert it to a string anyway.
The differences become much more important when you want to do a bit more in your code.</p>
<p>This is why it's really ok to just do <code>@itm.Get(&quot;FirstName&quot;)</code>.<br>
But <code>var name = itm.String(&quot;FirstName&quot;) + &quot; &quot; + itm.String(&quot;LastName&quot;);</code> is much better.</p>
</div>
<h2 id="html-values">HTML Values</h2>
<p>Creating HTML from data entered by the editor can be dangerous, as it could contain malicious code such as <code>script</code> or unexpected <code>iframe</code> tags.
So just showing data will automatically encode it, so it's safe to show.
To show HTML when you need it - eg. from a WYSIWYG editor, these are the APIs:</p>
<ul>
<li>Dynamic
<ul>
<li><code>@dyn.Description</code> - show HTML as text</li>
<li><code>@Html.Raw(dyn.Description)</code> - show HTML as HTML</li>
</ul>
</li>
<li>Typed
<ul>
<li><code>@itm.String(&quot;Description&quot;)</code> - show HTML as text</li>
<li><code>@Html.Raw(itm.String(&quot;Description&quot;))</code> - show HTML as HTML</li>
<li><code>@itm.Html(&quot;Description&quot;)</code> - show HTML as HTML, automatically adding a toolbar (more parameters can change the behavior)</li>
</ul>
</li>
<li>Strong Typed
<ul>
<li><code>@itm.Description</code> - show HTML as text</li>
<li><code>@Html.Raw(itm.Description)</code> - show HTML as HTML</li>
<li><code>@itm.Html(&quot;Description&quot;)</code> - show HTML as HTML, automatically adding a toolbar (more parameters can change the behavior)</li>
</ul>
</li>
</ul>
<h2 id="links">Links</h2>
<p>Internally links can be stored as the real link (<code>https://www.2sxc.org/</code>) or as a <code>file:123</code> reference to a file in the system.
When showing links, you'll usually want to convert these to a real link, and this is how you do it:</p>
<ul>
<li>Dynamic
<ul>
<li><code>@dyn.Link</code> - link as URL, so <code>file:72</code> will be converted to the real URL</li>
<li><code>@dyn.Get(&quot;Link&quot;, convertLinks: false)</code> - link as string, without auto-conversion</li>
</ul>
</li>
<li>Typed
<ul>
<li><code>@itm.Url(&quot;Link&quot;)</code> - link as URL, so <code>file:72</code> will be converted to the real URL</li>
<li><code>@itm.String(&quot;Link&quot;)</code> - link as string, without auto-conversion</li>
</ul>
</li>
<li>Strong Typed
<ul>
<li><code>@itm.Link</code> - link as URL, so <code>file:72</code> will be converted to the real URL</li>
<li><code>@itm.String(&quot;Link&quot;)</code> - link as string, without auto-conversion</li>
</ul>
</li>
</ul>
<h2 id="images-and-pictures">Images and Pictures</h2>
<p>Very often you will want to use a link to create an <code>img</code> or a <code>picture</code> tag.
If you want to do it manually, you can always use the properties as described in the previous section.</p>
<pre><code class="lang-razor">&lt;img src='@itm.Url(&quot;Image&quot;)' alt='@itm.String(&quot;ImageAlt&quot;)' /&gt;
</code></pre>
<p>Usually you will prefer to use built in APIs/Services to do this.</p>
<ul>
<li>Dynamic
<ul>
<li><code>@Kit.Image.Img(dyn, &quot;Pic&quot;)</code> - create an <code>img</code>; auto-resize and toolbar</li>
<li><code>@Kit.Image.Picture(dyn, &quot;Pic&quot;)</code> - create a <code>picture</code>; auto-resize and toolbar</li>
</ul>
</li>
<li>Typed
<ul>
<li><code>@itm.Img(&quot;Pic&quot;)</code> - create an <code>img</code>; auto-resize and toolbar</li>
<li><code>@itm.Picture(&quot;Pic&quot;)</code> - create a <code>picture</code>; auto-resize and toolbar</li>
</ul>
</li>
<li>Strong Typed
<ul>
<li><code>@itm.Img(&quot;Pic&quot;)</code> - create an <code>img</code>; auto-resize and toolbar</li>
<li><code>@itm.Picture(&quot;Pic&quot;)</code> - create a <code>picture</code>; auto-resize and toolbar</li>
</ul>
</li>
</ul>
<p>Note that the <code>Img</code> and <code>Picture</code> methods have more parameters to specify what you want.</p>
<h2 id="files-and-folders-of-an-item-adam">Files and Folders of an Item (ADAM)</h2>
<p>When using Hyperlink/File fields, you may want to get the file which is referenced (instead of the link.)
In some situations it can even contain many files, or even sub folders.</p>
<p>System is called <a class="xref" href="../../basics/cms/adam/index.html">ADAM - Automatic Digital Asset Management</a>.</p>
<ul>
<li>Dynamic
<ul>
<li><code>AsAdam(dyn as object, &quot;Pic&quot;).Files.First()</code> - get a file in the field <code>Pic</code></li>
<li><code>AsAdam(dyn as object, &quot;Pic&quot;)</code> - get a folder on the item</li>
</ul>
</li>
<li>Typed
<ul>
<li><code>itm.File(&quot;Pic&quot;)</code> - get a file in the field <code>Pic</code></li>
<li><code>itm.Folder(&quot;Pic&quot;)</code> - get a folder on the item</li>
</ul>
</li>
<li>Strong Typed
<ul>
<li><code>itm.PicFile</code> - get a file in the field <code>Pic</code></li>
<li><code>itm.PicFolder</code> - get a folder on the item</li>
</ul>
</li>
</ul>
<h2 id="children-and-parents">Children and Parents</h2>
<p>Related data is either children (when the current item has a field with reference to other items) or parents (when other items reference the current item).</p>
<ul>
<li>Dynamic
<ul>
<li><code>@dyn.Publisher.Name</code> - show the name of the child <code>Publisher</code></li>
<li><code>@(dyn.Authors as IEnumerable&lt;dynamic&gt;).Count()</code> - show the number of children</li>
</ul>
</li>
<li>Typed
<ul>
<li><code>@itm.Children(&quot;Authors&quot;).Count()</code> - show the number of children</li>
<li><code>@itm.Child(&quot;Publisher&quot;).String(&quot;Name&quot;)</code> - show the name of the child <code>Publisher</code></li>
</ul>
</li>
<li>Strong Typed
<ul>
<li><code>@itm.Publisher.Name</code> - show the name of the child <code>Publisher</code></li>
<li><code>@itm.Authors.Count()</code> - show the number of children</li>
</ul>
</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>For the strong-typed version, the property names are defined in the data model.
The exact type returned and if it's a list or single item depends on the field configuration.</p>
</div>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/2sic/2sxc-docs/blob/master/docs-src/pages/net-code/api-compare/data-object-api.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          
          <span>
            Made by <a href="https://www.2sic.com">2sic</a>
            with ðŸ’– and
            <a href="https://dotnet.github.io/docfx">docfx</a>
            â€” 
            for <a href="https://2sxc.org">2sxc</a>,
            <a href="https://dnncommunity.org/">Dnn</a> 
            and <a href="https://www.oqtane.org/">Oqtane</a>
            â€” 
            see also <a href="">2sxc Github</a> and <a href="https://blazor-cms.org">Blazor CMS</a>
          </span>
        </div>
      </div>
    </footer>
  </body>
</html>